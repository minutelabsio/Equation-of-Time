/*
 * popcorn.js version v1.5.0
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

!function(e,t){function n(e){_.put.call(this,e)}function r(e){this.parent=e,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function i(e,t,n){return e[t]&&e[t]===n}function o(e,t){var n={};for(var r in e)l.call(t,r)&&l.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){return function(){if(T.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){T.plugin.errors.push({plugin:t,thrown:n,source:e.toString()}),this.emit("pluginerror",T.plugin.errors)}}}if(t.addEventListener){var u=Array.prototype,s=Object.prototype,d=u.forEach,c=u.slice,l=s.hasOwnProperty,p=s.toString,f=e.Popcorn,h=[],v=!1,y=!1,m={events:{hash:{},apis:{}}},E=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,16)}}(),g=function(e){return Object.keys?Object.keys(e):function(e){var t,n=[];for(t in e)l.call(e,t)&&n.push(t);return n}(e)},_={put:function(e){Object.getOwnPropertyNames(e).forEach(function(t){this[t]=e[t]},this)}},T=function(e,t){return new T.p.init(e,t||null)};T.version="@VERSION",T.isSupported=!0,T.instances=[],T.p=T.prototype={init:function(e,n){var i,o,a=this;{if("function"!=typeof e){if("string"==typeof e)try{i=t.querySelector(e)}catch(u){throw new Error("Popcorn.js Error: Invalid media element selector: "+e)}if(this.media=i||e,o=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[o]=this.media,this.options=T.extend({},n)||{},this.id=this.options.id||T.guid(o),T.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:T.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new r(this)},T.instances.push(this);var s=function(){a.media.currentTime<0&&(a.media.currentTime=0),a.media.removeEventListener("loadedmetadata",s,!1);var e,t,n,r,i,o;e=a.media.duration,t=e!=e?Number.MAX_VALUE:e+1,T.addTrackEvent(a,{start:t,end:t}),a.options.frameAnimation?(a.data.timeUpdate=function(){T.timeUpdate(a,{}),T.forEach(T.manifest,function(e,t){if(n=a.data.running[t]){i=n.length;for(var u=0;i>u;u++)r=n[u],o=r._natives,o&&o.frame&&o.frame.call(a,{},r,a.currentTime())}}),a.emit("timeupdate"),!a.isDestroyed&&E(a.data.timeUpdate)},!a.isDestroyed&&E(a.data.timeUpdate)):(a.data.timeUpdate=function(e){T.timeUpdate(a,e)},a.isDestroyed||a.media.addEventListener("timeupdate",a.data.timeUpdate,!1))};return Object.defineProperty(this,"error",{get:function(){return a.media.error}}),a.media.readyState>=1?s():a.media.addEventListener("loadedmetadata",s,!1),this}if("complete"===t.readyState)return void e(t,T);if(h.push(e),!v){v=!0;var d=function(){y=!0,t.removeEventListener("DOMContentLoaded",d,!1);for(var e=0,n=h.length;n>e;e++)h[e].call(t,T);h=null};t.addEventListener("DOMContentLoaded",d,!1)}}}},T.p.init.prototype=T.p,T.byId=function(e){for(var t=T.instances,n=t.length,r=0;n>r;r++)if(t[r].id===e)return t[r];return null},T.forEach=function(e,t,n){if(!e||!t)return{};n=n||this;var r,i;if(d&&e.forEach===d)return e.forEach(t,n);if("[object NodeList]"===p.call(e)){for(r=0,i=e.length;i>r;r++)t.call(n,e[r],r,e);return e}for(r in e)l.call(e,r)&&t.call(n,e[r],r,e);return e},T.extend=function(e){var t=e,n=c.call(arguments,1);return T.forEach(n,function(e){for(var n in e)t[n]=e[n]}),t},T.extend(T,{noConflict:function(t){return t&&(e.Popcorn=f),T},error:function(e){throw new Error(e)},guid:function(e){return T.guid.counter++,(e?e:"")+(+new Date+T.guid.counter)},sizeOf:function(e){var t=0;for(var n in e)t++;return t},isArray:Array.isArray||function(e){return"[object Array]"===p.call(e)},nop:function(){},position:function(n){if(!n.parentNode)return null;var r,i,o,a,u,s,d=n.getBoundingClientRect(),c={},l=(n.ownerDocument,t.documentElement),p=t.body;r=l.clientTop||p.clientTop||0,i=l.clientLeft||p.clientLeft||0,o=e.pageYOffset&&l.scrollTop||p.scrollTop,a=e.pageXOffset&&l.scrollLeft||p.scrollLeft,u=Math.ceil(d.top+o-r),s=Math.ceil(d.left+a-i);for(var f in d)c[f]=Math.round(d[f]);return T.extend({},c,{top:u,left:s})},disable:function(e,t){if(!e.data.disabled[t]){if(e.data.disabled[t]=!0,t in T.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.end.call(e,null,n),e.emit("trackend",T.extend({},n,{plugin:n.type,type:"trackend"}));return e}},enable:function(e,t){if(e.data.disabled[t]){if(e.data.disabled[t]=!1,t in T.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.start.call(e,null,n),e.emit("trackstart",T.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return e}},destroy:function(e){var t,n,r,i,o=e.data.events,a=e.data.trackEvents;for(n in o){t=o[n];for(r in t)delete t[r];o[n]=null}for(i in T.registryByName)T.removePlugin(e,i);a.byStart.length=0,a.byEnd.length=0,e.isDestroyed||(e.data.timeUpdate&&e.media.removeEventListener("timeupdate",e.data.timeUpdate,!1),e.isDestroyed=!0),T.instances.splice(T.instances.indexOf(e),1)}}),T.guid.counter=1,T.extend(T.p,function(){var e="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",t={};return T.forEach(e.split(/\s+/g),function(e){t[e]=function(t){var n;return"function"==typeof this.media[e]?(null!=t&&/play|pause/.test(e)&&(this.media.currentTime=T.util.toSeconds(t)),this.media[e](),this):null!=t?(n=this.media[e],this.media[e]=t,n!==t&&this.emit("attrchange",{attribute:e,previousValue:n,currentValue:t}),this):this.media[e]}}),t}()),T.forEach("enable disable".split(" "),function(e){T.p[e]=function(t){return T[e](this,t)}}),T.extend(T.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(e,t,r){var i,o,a,u=arguments.length,s="trackadded";try{o=T.util.toSeconds(e)}catch(d){}if("number"==typeof o&&(e=o),"number"==typeof e&&2===u)r=t,t=e,e=T.guid("cue");else if(1===u)t=-1;else if(i=this.getTrackEvent(e))this.data.trackEvents.remove(e),n.end(this,i),T.removeTrackEvent.ref(this,e),s="cuechange","string"==typeof e&&2===u&&("number"==typeof t&&(r=i._natives.start),"function"==typeof t&&(r=t,t=i.start));else if(u>=2){if("string"==typeof t){try{o=T.util.toSeconds(t)}catch(d){}t=o}"number"==typeof t&&(r=r||T.nop()),"function"==typeof t&&(r=t,t=-1)}return a={id:e,start:t,end:t+1,_running:!1,_natives:{start:r||T.nop,end:T.nop,type:"cue"}},i&&(a=T.extend(i,a)),"cuechange"===s?(a._id=a.id||a._id||T.guid(a._natives.type),this.data.trackEvents.add(a),n.start(this,a),this.timeUpdate(this,null,!0),T.addTrackEvent.ref(this,a),this.emit(s,T.extend({},a,{id:e,type:s,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:t,fn:r||T.nop},track:i}))):T.addTrackEvent(this,a),this},mute:function(e){var t=null==e||e===!0?"muted":"unmuted";return"unmuted"===t&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===t&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(t),this},unmute:function(e){return this.mute(null==e?!1:!e)},position:function(){return T.position(this.media)},toggle:function(e){return T[this.data.disabled[e]?"enable":"disable"](this,e)},defaults:function(e,t){return T.isArray(e)?(T.forEach(e,function(e){for(var t in e)this.defaults(t,e[t])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[e]||(this.options.defaults[e]={}),T.extend(this.options.defaults[e],t),this)}}),T.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},T.Events.Natives=T.Events.UIEvents+" "+T.Events.MouseEvents+" "+T.Events.Events,m.events.apiTypes=["UIEvents","MouseEvents","Events"],function(e,t){for(var n=m.events.apiTypes,r=e.Natives.split(/\s+/g),i=0,o=r.length;o>i;i++)t.hash[r[i]]=!0;n.forEach(function(n){t.apis[n]={};for(var r=e[n].split(/\s+/g),i=r.length,o=0;i>o;o++)t.apis[n][r[o]]=!0})}(T.Events,m.events),T.events={isNative:function(e){return!!m.events.hash[e]},getInterface:function(e){if(!T.events.isNative(e))return!1;for(var t,n,r=m.events,i=r.apiTypes,o=r.apis,a=0,u=i.length;u>a;a++)if(n=i[a],o[n][e]){t=n;break}return t},all:T.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var i,o,a,u=this.data.events[n];if(u){if(i=T.events.getInterface(n))return o=t.createEvent(i),o.initEvent(n,!0,!0,e,1),this.media.dispatchEvent(o),this;for(a=u.slice();a.length;)a.shift().call(this,r)}return this},listen:function(e,t){var n,r,i=this,o=!0,a=T.events.hooks[e];if("function"!=typeof t)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[e]||(this.data.events[e]=[],o=!1),a&&(a.add&&a.add.call(this,{},t),a.bind&&(e=a.bind),a.handler&&(r=t,t=function(e){a.handler.call(i,e,r)}),o=!0,this.data.events[e]||(this.data.events[e]=[],o=!1)),this.data.events[e].push(t),!o&&T.events.all.indexOf(e)>-1&&this.media.addEventListener(e,function(t){if(i.data.events[e])for(n=i.data.events[e].slice();n.length;)n.shift().call(i,t)},!1),this},unlisten:function(e,t){var n,r=this.data.events[e];if(r){if("string"==typeof t){for(var i=0;i<r.length;i++)r[i].name===t&&r.splice(i--,1);return this}if("function"==typeof t){for(;-1!==n;)n=r.indexOf(t),-1!==n&&r.splice(n,1);return this}return this.data.events[e]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(e,t){var n=!1;this.media.readyState&&(setTimeout(function(){t.call(this,e)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(e,t){this.data.hooks.canplayall.fired||(t.call(this,e),this.data.hooks.canplayall.fired=!0)}}}},T.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(e){T.p[e[0]]=T.p[e[1]]=T.events.fn[e[0]]}),n.start=function(e,t){t.end>e.media.currentTime&&t.start<=e.media.currentTime&&!t._running&&(t._running=!0,e.data.running[t._natives.type].push(t),e.data.disabled[t._natives.type]||(t._natives.start.call(e,null,t),e.emit("trackstart",T.extend({},t,{plugin:t._natives.type,type:"trackstart",track:t}))))},n.end=function(e,t){var n;(t.end<=e.media.currentTime||t.start>e.media.currentTime)&&t._running&&(n=e.data.running[t._natives.type],t._running=!1,n.splice(n.indexOf(t),1),e.data.disabled[t._natives.type]||(t._natives.end.call(e,null,t),e.emit("trackend",T.extend({},t,{plugin:t._natives.type,type:"trackend",track:t}))))},r.prototype.where=function(e){return(this.parent.getTrackEvents()||[]).filter(function(t){var n,r;if(!e)return!0;for(n in e)if(r=e[n],i(t,n,r)||i(t._natives,n,r))return!0;return!1})},r.prototype.add=function(e){var t,n,r=this.byStart,i=this.byEnd;for(e&&e._id&&this.parent.data.history.push(e._id),e.start=T.util.toSeconds(e.start,this.parent.options.framerate),e.end=T.util.toSeconds(e.end,this.parent.options.framerate),t=r.length-1;t>=0;t--)if(e.start>=r[t].start){r.splice(t+1,0,e);break}for(n=i.length-1;n>=0;n--)if(e.end>i[n].end){i.splice(n+1,0,e);break}t<=this.parent.data.trackEvents.startIndex&&e.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&e.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++},r.prototype.remove=function(e,t){if(e instanceof n&&(e=e.id),"object"==typeof e)return this.where(e).forEach(function(e){this.removeTrackEvent(e._id)},this.parent),this;var r,i,o,a,u,s=this.byStart.length,d=0,c=0,l=[],p=[],f=[],h=[];for(t=t||{};--s>-1;)r=this.byStart[d],i=this.byEnd[d],r._id||(l.push(r),p.push(i)),r._id&&(r._id!==e&&l.push(r),i._id!==e&&p.push(i),r._id===e&&(c=d,u=r)),d++;if(s=this.animating.length,d=0,s)for(;--s>-1;)o=this.animating[d],o._id||f.push(o),o._id&&o._id!==e&&f.push(o),d++;c<=this.startIndex&&this.startIndex--,c<=this.endIndex&&this.endIndex--,this.byStart=l,this.byEnd=p,this.animating=f,a=this.parent.data.history.length;for(var v=0;a>v;v++)this.parent.data.history[v]!==e&&h.push(this.parent.data.history[v]);this.parent.data.history=h},T.addTrackEvent=function(e,t){var r;t instanceof n||(t=new n(t),t&&t._natives&&t._natives.type&&e.options.defaults&&e.options.defaults[t._natives.type]&&(r=T.extend({},t),T.extend(t,e.options.defaults[t._natives.type],r)),t._natives&&(t._id=t.id||t._id||T.guid(t._natives.type),t._natives._setup&&(t._natives._setup.call(e,t),e.emit("tracksetup",T.extend({},t,{plugin:t._natives.type,type:"tracksetup",track:t})))),e.data.trackEvents.add(t),n.start(e,t),this.timeUpdate(e,null,!0),t._id&&T.addTrackEvent.ref(e,t),e.emit("trackadded",T.extend({},t,t._natives?{plugin:t._natives.type}:{},{type:"trackadded",track:t})))},T.addTrackEvent.ref=function(e,t){return e.data.trackRefs[t._id]=t,e},T.removeTrackEvent=function(e,t){var n=e.getTrackEvent(t);n&&(n._natives._teardown&&n._natives._teardown.call(e,n),e.data.trackEvents.remove(t),T.removeTrackEvent.ref(e,t),n._natives&&e.emit("trackremoved",T.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},T.removeTrackEvent.ref=function(e,t){return delete e.data.trackRefs[t],e},T.getTrackEvents=function(e){for(var t,n=[],r=e.data.trackEvents.byStart,i=r.length,o=0;i>o;o++)t=r[o],t._id&&n.push(t);return n},T.getTrackEvents.ref=function(e){return e.data.trackRefs},T.getTrackEvent=function(e,t){return e.data.trackRefs[t]},T.getTrackEvent.ref=function(e,t){return e.data.trackRefs[t]},T.getLastTrackEventId=function(e){return e.data.history[e.data.history.length-1]},T.timeUpdate=function(e,t){var n,r,i,o,a,u=e.media.currentTime,s=e.data.trackEvents.previousUpdateTime,d=e.data.trackEvents,c=d.endIndex,l=d.startIndex,p=d.byStart.length,f=d.byEnd.length,h=T.registryByName,v="trackstart",y="trackend";if(u>=s){for(;d.byEnd[c]&&d.byEnd[c].end<=u;){if(n=d.byEnd[c],i=n._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void T.removeTrackEvent(e,n._id);n._running===!0&&(n._running=!1,a=e.data.running[o],a.splice(a.indexOf(n),1),e.data.disabled[o]||(i.end.call(e,t,n),e.emit(y,T.extend({},n,{plugin:o,type:y,track:n})))),c++}for(;d.byStart[l]&&d.byStart[l].start<=u;){if(r=d.byStart[l],i=r._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void T.removeTrackEvent(e,r._id);r.end>u&&r._running===!1&&(r._running=!0,e.data.running[o].push(r),e.data.disabled[o]||(i.start.call(e,t,r),e.emit(v,T.extend({},r,{plugin:o,type:v,track:r})))),l++}}else if(s>u){for(;d.byStart[l]&&d.byStart[l].start>u;){if(r=d.byStart[l],i=r._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void T.removeTrackEvent(e,r._id);r._running===!0&&(r._running=!1,a=e.data.running[o],a.splice(a.indexOf(r),1),e.data.disabled[o]||(i.end.call(e,t,r),e.emit(y,T.extend({},r,{plugin:o,type:y,track:r})))),l--}for(;d.byEnd[c]&&d.byEnd[c].end>u;){if(n=d.byEnd[c],i=n._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void T.removeTrackEvent(e,n._id);n.start<=u&&n._running===!1&&(n._running=!0,e.data.running[o].push(n),e.data.disabled[o]||(i.start.call(e,t,n),e.emit(v,T.extend({},n,{plugin:o,type:v,track:n})))),c--}}d.endIndex=c,d.startIndex=l,d.previousUpdateTime=u,d.byStart.length<p&&d.startIndex--,d.byEnd.length<f&&d.endIndex--},T.extend(T.p,{getTrackEvents:function(){return T.getTrackEvents.call(null,this)},getTrackEvent:function(e){return T.getTrackEvent.call(null,this,e)},getLastTrackEventId:function(){return T.getLastTrackEventId.call(null,this)},removeTrackEvent:function(e){return T.removeTrackEvent.call(null,this,e),this},removePlugin:function(e){return T.removePlugin.call(null,this,e),this},timeUpdate:function(e){return T.timeUpdate.call(null,this,e),this},destroy:function(){return T.destroy.call(null,this),this}}),T.manifest={},T.registry=[],T.registryByName={},T.plugin=function(e,t,r){if(T.protect.natives.indexOf(e.toLowerCase())>=0)return void T.error("'"+e+"' is a protected function name");var i="function"==typeof t,u=["start","end","type","manifest"],s=["_setup","_teardown","start","end","frame"],d={},p=function(e,t){return e=e||T.nop,t=t||T.nop,function(){e.apply(this,arguments),t.apply(this,arguments)}};T.manifest[e]=r=r||t.manifest||{},s.forEach(function(n){t[n]=a(t[n]||T.nop,e)});var f=function(t,i){if(!i)return this;if(i.ranges&&T.isArray(i.ranges))return T.forEach(i.ranges,function(t){var n=T.extend({},i,t);delete n.ranges,this[e](n)},this),this;var o,a=i._natives={},d="";return T.extend(a,t),i._natives.type=i._natives.plugin=e,i._running=!1,a.start=a.start||a["in"],a.end=a.end||a.out,i.once&&(a.end=p(a.end,function(){this.removeTrackEvent(i._id)})),a._teardown=p(function(){var e=c.call(arguments),t=this.data.running[a.type];e.unshift(null),e[1]._running&&t.splice(t.indexOf(i),1)&&a.end.apply(this,e),e[1]._running=!1,this.emit("trackend",T.extend({},i,{plugin:a.type,type:"trackend",track:T.getTrackEvent(this,i.id||i._id)}))},a._teardown),a._teardown=p(a._teardown,function(){this.emit("trackteardown",T.extend({},i,{plugin:e,type:"trackteardown",track:T.getTrackEvent(this,i.id||i._id)}))}),i.compose=i.compose||[],"string"==typeof i.compose&&(i.compose=i.compose.split(" ")),i.effect=i.effect||[],"string"==typeof i.effect&&(i.effect=i.effect.split(" ")),i.compose=i.compose.concat(i.effect),i.compose.forEach(function(e){d=T.compositions[e]||{},s.forEach(function(e){a[e]=p(a[e],d[e])})}),i._natives.manifest=r,"start"in i||(i.start=i["in"]||0),i.end||0===i.end||(i.end=i.out||Number.MAX_VALUE),l.call(i,"toString")||(i.toString=function(){var t=["start: "+i.start,"end: "+i.end,"id: "+(i.id||i._id)];return null!=i.target&&t.push("target: "+i.target),e+" ( "+t.join(", ")+" )"}),i.target||(o="options"in r&&r.options,i.target=o&&"target"in o&&o.target),!i._id&&i._natives&&(i._id=T.guid(i._natives.type)),i instanceof n?(i._natives&&(i._id=i.id||i._id||T.guid(i._natives.type),i._natives._setup&&(i._natives._setup.call(this,i),this.emit("tracksetup",T.extend({},i,{plugin:i._natives.type,type:"tracksetup",track:i})))),this.data.trackEvents.add(i),n.start(this,i),this.timeUpdate(this,null,!0),i._id&&T.addTrackEvent.ref(this,i)):T.addTrackEvent(this,i),T.forEach(t,function(e,t){-1===u.indexOf(t)&&this.on(t,e)},this),this};T.p[e]=d[e]=function(r,a){{var u,s,d,c,p;arguments.length}if(r&&!a)a=r,r=null;else{if(u=this.getTrackEvent(r))return p=a,c=o(u,p),u._natives._update?(this.data.trackEvents.remove(u),l.call(a,"start")&&(u.start=a.start),l.call(a,"end")&&(u.end=a.end),n.end(this,u),i&&t.call(this,u),u._natives._update.call(this,u,a),this.data.trackEvents.add(u),n.start(this,u),"cue"!==u._natives.type&&this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:c,currentValue:p,track:u}),this):(T.extend(u,a),this.data.trackEvents.remove(r),u._natives._teardown&&u._natives._teardown.call(this,u),T.removeTrackEvent.ref(this,r),i?f.call(this,t.call(this,u),u):(u._id=u.id||u._id||T.guid(u._natives.type),u._natives&&u._natives._setup&&(u._natives._setup.call(this,u),this.emit("tracksetup",T.extend({},u,{plugin:u._natives.type,type:"tracksetup",track:u}))),this.data.trackEvents.add(u),n.start(this,u),this.timeUpdate(this,null,!0),T.addTrackEvent.ref(this,u)),this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:c,currentValue:u,track:u}),this);a.id=r}return this.data.running[e]=this.data.running[e]||[],s=this.options.defaults&&this.options.defaults[e]||{},d=T.extend({},s,a),f.call(this,i?t.call(this,d):t,d),this},r&&T.extend(t,{manifest:r});var h={fn:d[e],definition:t,base:t,parents:[],name:e};return T.registry.push(T.extend(d,h,{type:e})),T.registryByName[e]=h,d},T.plugin.errors=[],T.plugin.debug="@VERSION"===T.version,T.removePlugin=function(e,t){if(!t){if(t=e,e=T.p,T.protect.natives.indexOf(t.toLowerCase())>=0)return void T.error("'"+t+"' is a protected function name");var n,r=T.registry.length;for(n=0;r>n;n++)if(T.registry[n].name===t)return T.registry.splice(n,1),delete T.registryByName[t],delete T.manifest[t],void delete e[t]}var i,o,a=e.data.trackEvents.byStart,u=e.data.trackEvents.byEnd,s=e.data.trackEvents.animating;for(i=0,o=a.length;o>i;i++)a[i]&&a[i]._natives&&a[i]._natives.type===t&&(a[i]._natives._teardown&&a[i]._natives._teardown.call(e,a[i]),a.splice(i,1),i--,o--,e.data.trackEvents.startIndex<=i&&(e.data.trackEvents.startIndex--,e.data.trackEvents.endIndex--)),u[i]&&u[i]._natives&&u[i]._natives.type===t&&u.splice(i,1);for(i=0,o=s.length;o>i;i++)s[i]&&s[i]._natives&&s[i]._natives.type===t&&(s.splice(i,1),i--,o--)},T.compositions={},T.compose=function(e,t,n){T.manifest[e]=n=n||t.manifest||{},T.compositions[e]=t},T.plugin.effect=T.effect=T.compose;var b=/^(?:\.|#|\[)/;T.dom={debug:!1,find:function(e,n){var r=null;if(n=n||t,e){if(!b.test(e)&&(r=t.getElementById(e),null!==r))return r;try{r=n.querySelector(e)}catch(i){if(T.dom.debug)throw new Error(i)}}return r}};var w=/\?/,S={ajax:null,url:"",data:"",dataType:"",success:T.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};T.xhr=function(e){var t;return e.dataType=e.dataType&&e.dataType.toLowerCase()||null,!e.dataType||"jsonp"!==e.dataType&&"script"!==e.dataType?(t=T.extend({},S,e),t.ajax=new XMLHttpRequest,t.ajax?("GET"===t.type&&t.data&&(t.url+=(w.test(t.url)?"&":"?")+t.data,t.data=null),t.ajax.open(t.type,t.url,t.async),"POST"===t.type&&t.ajax.setRequestHeader("Content-Type",t.contentType),t.ajax.send(t.data||null),T.xhr.httpData(t)):void 0):void T.xhr.getJSONP(e.url,e.success,"script"===e.dataType)},T.xhr.httpData=function(e){var t,n,r=null,i=null;return e.ajax.onreadystatechange=function(){if(4===e.ajax.readyState){try{r=JSON.parse(e.ajax.responseText)}catch(o){}if(t={xml:e.ajax.responseXML,text:e.ajax.responseText,json:r},!t.xml||!t.xml.documentElement){t.xml=null;try{n=new DOMParser,i=n.parseFromString(e.ajax.responseText,"text/xml"),i.getElementsByTagName("parsererror").length||(t.xml=i)}catch(o){}}e.dataType&&(t=t[e.dataType]),e.success.call(e.ajax,t)}},t},T.xhr.getJSONP=function(e,n,r){var i,o,a,u=t.head||t.getElementsByTagName("head")[0]||t.documentElement,s=t.createElement("script"),d=!1,c=[],l=/(=)\?(?=&|$)|\?\?/;r||(a=e.match(/(callback=[^&]*)/),null!==a&&a.length?(i=a[1].split("=")[1],"?"===i&&(i="jsonp"),o=T.guid(i),e=e.replace(/(callback=[^&]*)/,"callback="+o)):(o=T.guid("jsonp"),l.test(e)&&(e=e.replace(l,"$1"+o)),c=e.split(/\?(.+)?/),e=c[0]+"?",c[1]&&(e+=c[1]+"&"),e+="callback="+o),window[o]=function(e){n&&n(e),d=!0}),s.addEventListener("load",function(){r&&n&&n(),d&&delete window[o],u.removeChild(s)},!1),s.src=e,u.insertBefore(s,u.firstChild)},T.getJSONP=T.xhr.getJSONP,T.getScript=T.xhr.getScript=function(e,t){return T.xhr.getJSONP(e,t,!0)},T.util={toSeconds:function(e,t){var n,r,i,o,a,u,s=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,d="Invalid time format";return"number"==typeof e?e:("string"!=typeof e||s.test(e)||T.error(d),n=e.split(":"),r=n.length-1,i=n[r],i.indexOf(";")>-1&&(a=i.split(";"),u=0,t&&"number"==typeof t&&(u=parseFloat(a[1],10)/t),n[r]=parseInt(a[0],10)+u),o=n[0],{1:parseFloat(o,10),2:60*parseInt(o,10)+parseFloat(n[1],10),3:3600*parseInt(o,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},T.p.cue=T.p.exec,T.protect={natives:g(T.p).map(function(e){return e.toLowerCase()})},T.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(e,t){var n=T.p[t];T.p[t]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+t+"', "+(null==e?"do not use.":"use '"+e+"' instead.")),T.p[t]=n),T.p[e].apply(this,[].slice.call(arguments))}}),e.Popcorn=T}else{e.Popcorn={isSupported:!1};for(var k="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);k.length;)e.Popcorn[k.shift()]=function(){}}}(window,window.document),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o){if(!t)return this;var a=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,u,s=i(e),d=0;if(t=s.data||[],n=t.length,u=null,n){for(;n>d;d++){u=t[d];for(var c in u)r.call(u,c)&&a[c]&&a[c](u[c])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,d=s,c=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var E=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-d),y.dispatchEvent("timeupdate"),a=setTimeout(E,10)),d=s};return y.play=function(){this.paused=!1,y.readyState>=4&&(d=new Date/1e3,y.dispatchEvent("play"),E())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return c},set:function(e){return c=+e,y.dispatchEvent("timeupdate"),c},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,d,c,l="string"==typeof t?e.dom.find(t):t,p="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,c=n.length;c>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),d=e(u,r),setTimeout(function(){u.src=o},0),d;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,c=n.length;c>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,d=s,c=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var E=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-d),y.dispatchEvent("timeupdate"),a=setTimeout(E,10)),d=s};return y.play=function(){this.paused=!1,y.readyState>=4&&(d=new Date/1e3,y.dispatchEvent("play"),E())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return c},set:function(e){return c=+e,y.dispatchEvent("timeupdate"),c},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,d,c,l="string"==typeof t?e.dom.find(t):t,p="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,c=n.length;c>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),d=e(u,r),setTimeout(function(){u.src=o},0),d;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");
e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,c=n.length;c>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e,t){t.player("soundcloud",{_canPlayType:function(e,n){return"string"==typeof n&&t.HTMLSoundCloudAudioElement._canPlaySrc(n)&&"audio"!==e.toLowerCase()}}),t.soundcloud=function(e,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var i=t.HTMLSoundCloudAudioElement(e),o=t(i,r);return setTimeout(function(){i.src=n},0),o}}(window,Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,d=s,c=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var E=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-d),y.dispatchEvent("timeupdate"),a=setTimeout(E,10)),d=s};return y.play=function(){this.paused=!1,y.readyState>=4&&(d=new Date/1e3,y.dispatchEvent("play"),E())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return c},set:function(e){return c=+e,y.dispatchEvent("timeupdate"),c},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,d,c,l="string"==typeof t?e.dom.find(t):t,p="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,c=n.length;c>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),d=e(u,r),setTimeout(function(){u.src=o},0),d;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,c=n.length;c>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e,t){var n=function(e,n){return"string"==typeof n&&t.HTMLYouTubeVideoElement._canPlaySrc(n)};t.player("youtube",{_canPlayType:n}),t.youtube=function(e,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var i=t.HTMLYouTubeVideoElement(e),o=t(i,r);return setTimeout(function(){i.src=n},0),o},t.youtube.canPlayType=n}(window,Popcorn),function(e){e.plugin("code",function(t){var n=!1,r=this,i=function(){var e=function(e){return function(t,i){var o=function(){n&&t.call(r,i),n&&e(o)};o()}};return e(window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:function(e){window.setTimeout(e,16)})}();return t.onStart&&"function"==typeof t.onStart||(t.onStart=e.nop),t.onEnd&&"function"!=typeof t.onEnd&&(t.onEnd=void 0),t.onFrame&&"function"!=typeof t.onFrame&&(t.onFrame=void 0),{start:function(e,t){t.onStart.call(r,t),t.onFrame&&(n=!0,i(t.onFrame,t))},end:function(e,t){t.onFrame&&(n=!1),t.onEnd&&t.onEnd.call(r,t)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",optional:!0},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn),function(e){function t(e){function t(){var t=e.getBoundingClientRect(),n=o.getBoundingClientRect();n.left!==t.left&&(o.style.left=t.left+"px"),n.top!==t.top&&(o.style.top=t.top+"px")}var i=-1,o=document.createElement("div"),a=getComputedStyle(e).zIndex;return o.setAttribute("data-popcorn-helper-container",!0),o.style.position="absolute",o.style.zIndex=isNaN(a)?n:a+1,document.body.appendChild(o),{element:o,start:function(){i=setInterval(t,r)},stop:function(){clearInterval(i),i=-1},destroy:function(){document.body.removeChild(o),-1!==i&&clearInterval(i)}}}var n=2e3,r=10;e.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Image URL","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png"},href:{elem:"input",type:"url",label:"Link","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png",optional:!0},target:"image-container",text:{elem:"input",type:"text",label:"Caption","default":"Popcorn.js",optional:!0}}},_setup:function(n){var r=document.createElement("img"),i=document.getElementById(n.target);n.anchor=document.createElement("a"),n.anchor.style.position="relative",n.anchor.style.textDecoration="none",n.anchor.style.display="none",i&&(["VIDEO","AUDIO"].indexOf(i.nodeName)>-1?(n.trackedContainer=t(i),n.trackedContainer.element.appendChild(n.anchor)):i&&i.appendChild(n.anchor)),r.addEventListener("load",function(){r.style.borderStyle="none",n.anchor.href=n.href||n.src||"#",n.anchor.target="_blank";var t,o;r.style.height=i.style.height,r.style.width=i.style.width,n.anchor.appendChild(r),n.text&&(t=r.height/12+"px",o=document.createElement("div"),e.extend(o.style,{color:"black",fontSize:t,fontWeight:"bold",position:"relative",textAlign:"center",width:r.style.width||r.width+"px",zIndex:"10"}),o.innerHTML=n.text||"",o.style.top=(r.style.height.replace("px","")||r.height)/2-o.offsetHeight/2+"px",n.anchor.insertBefore(o,r))},!1),r.src=n.src,n.toString=function(){var e=n.src||n._natives.manifest.options.src["default"],t=e.replace(/.*\//g,"");return t.length?t:e}},start:function(e,t){t.anchor.style.display="inline",t.trackedContainer&&t.trackedContainer.start()},end:function(e,t){t.anchor.style.display="none",t.trackedContainer&&t.trackedContainer.stop()},_teardown:function(e){e.trackedContainer?e.trackedContainer.destroy():e.anchor.parentNode&&e.anchor.parentNode.removeChild(e.anchor)}})}(Popcorn),document.addEventListener("click",function(e){var t=e.target;("A"===t.nodeName||t.parentNode&&"A"===t.parentNode.nodeName)&&Popcorn.instances.forEach(function(e){e.options.pauseOnLinkClicked&&e.pause()})},!1),function(e){var t=0,n=function(t,n){var r=t.container=document.createElement("div"),i=r.style,o=t.media,a=function(){var e=t.position();i.fontSize="18px",i.width=o.offsetWidth+"px",i.top=e.top+o.offsetHeight-r.offsetHeight-40+"px",i.left=e.left+"px",setTimeout(a,10)};return r.id=n||e.guid(),i.position="absolute",i.color="white",i.textShadow="black 2px 2px 6px",i.fontWeight="bold",i.textAlign="center",a(),t.media.parentNode.appendChild(r),r};e.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(e){var r=document.createElement("div");r.id="subtitle-"+t++,r.style.display="none",!this.container&&(!e.target||"subtitle-container"===e.target)&&n(this),e.container=e.target&&"subtitle-container"!==e.target?document.getElementById(e.target)||n(this,e.target):this.container,document.getElementById(e.container.id)&&document.getElementById(e.container.id).appendChild(r),e.innerContainer=r,e.showSubtitle=function(){e.innerContainer.innerHTML=e.text||""}},start:function(e,t){t.innerContainer.style.display="inline",t.showSubtitle(t,t.text)},end:function(e,t){t.innerContainer.style.display="none",t.innerContainer.innerHTML=""},_teardown:function(e){e.container.removeChild(e.innerContainer)}})}(Popcorn),function(e){function t(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return i[e]||e})}function n(e){return e.replace(/\r?\n/gm,"<br>")}function r(e,t){var n=e.container=document.createElement("div"),r=n.style,i=e.media,o=function(){var t=e.position();r.fontSize="18px",r.width=i.offsetWidth+"px",r.top=t.top+i.offsetHeight-n.offsetHeight-40+"px",r.left=t.left+"px",setTimeout(o,10)};return n.id=t||"",r.position="absolute",r.color="white",r.textShadow="black 2px 2px 6px",r.fontWeight="bold",r.textAlign="center",o(),e.media.parentNode.appendChild(n),n}var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(i){var o,a,u=i._container=document.createElement("div");u.style.display="none",i.target?(o=e.dom.find(i.target),o?["VIDEO","AUDIO"].indexOf(o.nodeName)>-1&&(o=r(this,i.target+"-overlay")):o=r(this,i.target)):o=this.container?this.container:r(this),i._target=o,a=i.escape?t(i.text):i.text,a=i.multiline?n(a):a,u.innerHTML=a||"",o.appendChild(u),i.toString=function(){return i.text||i._natives.manifest.options.text["default"]}},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){var t=e._target;t&&t.removeChild(e._container)}})}(Popcorn),function(e){var t=1;e.plugin("timeline",function(e){var n,r=document.getElementById(e.target),i=document.createElement("div"),o=!0;return r&&!r.firstChild?(r.appendChild(n=document.createElement("div")),n.style.width="inherit",n.style.height="inherit",n.style.overflow="auto"):n=r.firstChild,i.style.display="none",i.id="timelineDiv"+t,e.direction=e.direction||"up","down"===e.direction.toLowerCase()&&(o=!1),r&&n&&(o?n.insertBefore(i,n.firstChild):n.appendChild(i)),t++,i.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+e.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+e.text+"</span><br />"+e.innerHTML,{start:function(e,t){i.style.display="block","down"===t.direction&&(n.scrollTop=n.scrollHeight)},end:function(){i.style.display="none"},_teardown:function(){n&&i&&n.removeChild(i)&&!n.firstChild&&r.removeChild(n)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:!0},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:!0}}})}(Popcorn),function(e){var t,n={},r=0,i=function(e){n[e]=document.createElement("div");var t=document.getElementById(e);return t&&t.appendChild(n[e]),n[e].style.height="100%",n[e].style.position="relative",n[e]},o=document.createElement("span"),a=["webkit","Moz","ms","O",""],u=["Transform","TransitionDuration","TransitionTimingFunction"],s={};document.getElementsByTagName("head")[0].appendChild(o);for(var d=0,c=u.length;c>d;d++)for(var l=0,p=a.length;p>l;l++)if(t=a[l]+u[d],t in o.style){s[u[d].toLowerCase()]=t;break}document.getElementsByTagName("head")[0].appendChild(o),e.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},color:{elem:"input",type:"text",label:"Color","default":"Green",optional:!0}}},_setup:function(e){e._duration=e.end-e.start,e._container=n[e.target]||i(e.target),e.word=document.createElement("span"),e.word.style.position="absolute",e.word.style.whiteSpace="nowrap",e.word.style.opacity=0,e.word.style.MozTransitionProperty="opacity, -moz-transform",e.word.style.webkitTransitionProperty="opacity, -webkit-transform",e.word.style.OTransitionProperty="opacity, -o-transform",e.word.style.transitionProperty="opacity, transform",e.word.style[s.transitionduration]="1s, "+e._duration+"s",e.word.style[s.transitiontimingfunction]="linear",e.word.innerHTML=e.text,e.word.style.color=e.color||"black"},start:function(e,t){t._container.appendChild(t.word),t.word.style[s.transform]="",t.word.style.fontSize=~~(30+20*Math.random())+"px",r%=t._container.offsetWidth-t.word.offsetWidth,t.word.style.left=r+"px",r+=t.word.offsetWidth+10,t.word.style[s.transform]="translateY("+(t._container.offsetHeight-t.word.offsetHeight)+"px)",t.word.style.opacity=1,setTimeout(function(){t.word.style.opacity=0},1e3*(t.end-t.start-1||1))},end:function(e,t){t.word.style.opacity=0},_teardown:function(e){var t=document.getElementById(e.target);e.word.parentNode&&e._container.removeChild(e.word),n[e.target]&&!n[e.target].childElementCount&&t&&t.removeChild(n[e.target])&&delete n[e.target]}})}(Popcorn),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(){return"maybe"}function r(e,r){var i="string"==typeof e?t.querySelector(e):e,o=t.createElement(r);return i.appendChild(o),o._canPlaySrc=n,o}e.HTMLVideoElement=function(e){return r(e,"video")},e.HTMLVideoElement._canPlaySrc=n,e.HTMLAudioElement=function(e){return r(e,"audio")},e.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(t){this.startTime=0,this.currentTime=t.currentTime||0,this.duration=t.duration||0/0,this.playInterval=null,this.paused=!0,this.ended=t.endedCallback||e.nop}function r(e){e.currentTime+=(Date.now()-e.startTime)/1e3,e.startTime=Date.now(),e.currentTime>=e.duration&&(e.currentTime=e.duration,e.pause(),e.ended())}function i(r){function i(e){M.unshift(e)}function o(){P=!0,R.networkState=k.NETWORK_IDLE,R.readyState=k.HAVE_METADATA,k.dispatchEvent("loadedmetadata"),k.dispatchEvent("loadeddata"),R.readyState=k.HAVE_FUTURE_DATA,k.dispatchEvent("canplay"),R.readyState=k.HAVE_ENOUGH_DATA,k.dispatchEvent("canplaythrough");for(var e=M.length;e--;)M[e](),delete M[e];R.autoplay&&k.play()}function s(){return w?w.duration:0/0}function d(){P&&w&&(w.pause(),w=null,A.removeChild(N),N=t.createElement("div"))}function c(e){if(!k._canPlaySrc(e))return R.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void k.dispatchEvent("error");R.src=e,P&&d(),N.width=R.width,N.height=R.height,A.appendChild(N);var t=u.exec(e),r=+t[1],i=+t[2];w=new n({currentTime:r,duration:i,endedCallback:E}),k.dispatchEvent("loadstart"),k.dispatchEvent("progress"),k.dispatchEvent("durationchange"),o()}function l(){return P?w.currentTime:0}function p(e){return P?(h(),w.seekTo(e),void v()):void i(function(){p(e)})}function f(){k.dispatchEvent("timeupdate")}function h(){R.seeking=!0,k.dispatchEvent("seeking")}function v(){R.ended=!1,R.seeking=!1,k.dispatchEvent("timeupdate"),k.dispatchEvent("seeked"),k.dispatchEvent("canplay"),k.dispatchEvent("canplaythrough")}function y(){1===R.paused?(R.paused=!1,k.dispatchEvent("play"),k.dispatchEvent("playing")):(R.ended&&(p(0),R.ended=!1),R.paused&&(R.paused=!1,R.loop||k.dispatchEvent("play"),k.dispatchEvent("playing"))),S=setInterval(f,k._util.TIMEUPDATE_MS)}function m(){R.paused=!0,clearInterval(S),k.dispatchEvent("pause")}function E(){R.loop?(p(0),k.play()):(R.ended=!0,m(),k.dispatchEvent("timeupdate"),k.dispatchEvent("ended"))}function g(e){R.volume=e,k.dispatchEvent("volumechange")}function _(){return R.volume}function T(e){R.muted=e,k.dispatchEvent("volumechange")}function b(){return R.muted}var w,S,k=this,A="string"==typeof r?t.querySelector(r):r,N=t.createElement("div"),P=!1,R={src:a,networkState:k.NETWORK_EMPTY,readyState:k.HAVE_NOTHING,autoplay:a,preload:a,controls:a,loop:!1,poster:a,volume:1,muted:!1,width:0|A.width?A.width:k._util.MIN_WIDTH,height:0|A.height?A.height:k._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},M=[];k._eventNamespace=e.guid("HTMLNullVideoElement::"),k.parentNode=A,k._util.type="NullVideo",k.play=function(){return P?(w.play(),void(R.paused&&y())):void i(function(){k.play()})},k.pause=function(){return P?(w.pause(),void(R.paused||m())):void i(function(){k.pause()})},Object.defineProperties(k,{src:{get:function(){return R.src},set:function(e){e&&e!==R.src&&c(e)}},autoplay:{get:function(){return R.autoplay},set:function(e){R.autoplay=k._util.isAttributeSet(e)}},loop:{get:function(){return R.loop},set:function(e){R.loop=k._util.isAttributeSet(e)}},width:{get:function(){return N.width},set:function(e){N.width=e,R.width=N.width}},height:{get:function(){return N.height},set:function(e){N.height=e,R.height=N.height}},currentTime:{get:function(){return l()},set:function(e){p(e)}},duration:{get:function(){return s()}},ended:{get:function(){return R.ended}},paused:{get:function(){return R.paused}},seeking:{get:function(){return R.seeking}},readyState:{get:function(){return R.readyState}},networkState:{get:function(){return R.networkState}},volume:{get:function(){return _()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";g(e)}},muted:{get:function(){return b()},set:function(e){T(k._util.isAttributeSet(e))}},error:{get:function(){return R.error}}})}var o=16,a="",u=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;n.prototype={play:function(){var e=this;this.paused&&(this.paused=!1,this.startTime=Date.now(),this.playInterval=setInterval(function(){r(e)},o))},pause:function(){this.paused||(this.paused=!0,clearInterval(this.playInterval))},seekTo:function(e){e=0>e?0:e,e=e>this.duration?this.duration:e,this.currentTime=e}},i.prototype=new e._MediaElementProto,i.prototype.constructor=i,i.prototype._canPlaySrc=function(e){return u.test(e)?"probably":a},i.prototype.canPlayType=function(e){return"video/x-nullvideo"===e?"probably":a},e.HTMLNullVideoElement=function(e){return new i(e)},e.HTMLNullVideoElement._canPlaySrc=i.prototype._canPlaySrc}(Popcorn,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(){return d||(e.getScript("//w.soundcloud.com/player/api.js",function(){e.getScript("//connect.soundcloud.com/sdk.js",function(){s=!0,SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var e=c.length;e--;)c[e](),delete c[e]})}),d=!0),s}function i(e){c.unshift(e)}function o(o){function s(e){V.unshift(e)}function d(){R.bind(SC.Widget.Events.LOAD_PROGRESS,function(e){T({type:"loadProgress",data:e.currentPosition/1e3})}),R.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){T({type:"playProgress",data:e.currentPosition/1e3})}),R.bind(SC.Widget.Events.PLAY,function(){T({type:"play"})}),R.bind(SC.Widget.Events.PAUSE,function(){T({type:"pause"})}),R.bind(SC.Widget.Events.SEEK,function(){R.getPosition(function(e){var t=e/1e3;return C.seeking?void(Math.floor(t)!==Math.floor(C.currentTime)?R.seekTo(1e3*C.currentTime):v()):void T({type:"seek",data:t})})}),R.bind(SC.Widget.Events.FINISH,function(){T({type:"finish"})}),L=!0,R.getDuration(l)}function c(){R.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){R.setVolume(0),e.currentPosition>0&&(R.unbind(SC.Widget.Events.PLAY_PROGRESS),R.bind(SC.Widget.Events.PAUSE,function(){R.unbind(SC.Widget.Events.PAUSE),R.setVolume(100),R.bind(SC.Widget.Events.SEEK,function(){R.unbind(SC.Widget.Events.SEEK),d()}),R.seekTo(0)}),R.pause())}),R.play()}function l(e){e/=1e3;var t=C.duration;if(t!==e&&(C.duration=e,O.dispatchEvent("durationchange"),isNaN(t))){C.networkState=O.NETWORK_IDLE,C.readyState=O.HAVE_METADATA,O.dispatchEvent("loadedmetadata"),O.dispatchEvent("loadeddata"),C.readyState=O.HAVE_FUTURE_DATA,O.dispatchEvent("canplay"),C.readyState=O.HAVE_ENOUGH_DATA,O.dispatchEvent("canplaythrough");
for(var n=V.length;n--;)V[n](),delete V[n];C.paused&&C.autoplay&&O.play()}}function p(){L&&R&&(clearInterval(I),R.pause(),R.unbind(SC.Widget.Events.READY),R.unbind(SC.Widget.Events.LOAD_PROGRESS),R.unbind(SC.Widget.Events.PLAY_PROGRESS),R.unbind(SC.Widget.Events.PLAY),R.unbind(SC.Widget.Events.PAUSE),R.unbind(SC.Widget.Events.SEEK),R.unbind(SC.Widget.Events.FINISH),D.removeChild(x),x=n.createElement("iframe"))}function f(e){function t(){h(),R.seekTo(e)}return C.currentTime=e,e=1e3*e,L?void t():void addMediaReadyCallback(t)}function h(){C.seeking=!0,O.dispatchEvent("seeking")}function v(){C.ended=!1,C.seeking=!1,O.dispatchEvent("timeupdate"),O.dispatchEvent("seeked"),O.dispatchEvent("canplay"),O.dispatchEvent("canplaythrough")}function y(){C.paused=!0,H||(H=!0,clearInterval(M),O.dispatchEvent("pause"))}function m(){O.dispatchEvent("timeupdate")}function E(){I||(I=setInterval(b,a),C.loop&&O.dispatchEvent("play")),M=setInterval(m,O._util.TIMEUPDATE_MS),C.paused=!1,H&&(H=!1,C.loop||O.dispatchEvent("play"),O.dispatchEvent("playing"))}function g(){C.loop?(f(0),O.play()):(C.ended=!0,O.pause(),y(),O.dispatchEvent("timeupdate"),O.dispatchEvent("ended"))}function _(e){C.currentTime=e,e!==U&&O.dispatchEvent("timeupdate"),U=e}function T(e){switch(e.type){case"loadProgress":O.dispatchEvent("progress");break;case"playProgress":_(e.data);break;case"play":E();break;case"pause":y();break;case"finish":g();break;case"seek":_(e.data)}}function b(){C.ended||R.getPosition(function(e){_(e/1e3)})}function w(t){return O._canPlaySrc(t)?(C.src=t,L&&p(),r()?(L=!1,void SC.get("/resolve",{url:t},function(t){x.id=e.guid("soundcloud-"),x.width=C.width,x.height=C.height,x.frameBorder=0,x.webkitAllowFullScreen=!0,x.mozAllowFullScreen=!0,x.allowFullScreen=!0,P(C.controls),D.appendChild(x),x.onload=function(){x.onload=null,R=SC.Widget(x),R.bind(SC.Widget.Events.READY,c),C.networkState=O.NETWORK_LOADING,O.dispatchEvent("loadstart"),O.dispatchEvent("progress")},x.src="https://w.soundcloud.com/player/?url="+t.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})):void i(function(){w(t)})):(C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void O.dispatchEvent("error"))}function S(e){return C.volume=e,L?(R.setVolume(e),void O.dispatchEvent("volumechange")):void s(function(){S(e)})}function k(){return C.muted>0?C.muted:C.volume}function A(e){return L?void(e?(C.muted=C.volume,S(0)):(C.muted=0,S(C.muted))):(C.muted=e?1:0,void s(function(){A(e)}))}function N(){return C.muted>0}function P(e){L?(x.style.position="absolute",x.style.visibility=e?"visible":"hidden"):(x.style.opacity=e?"1":"0",x.style.pointerEvents=e?"auto":"none"),C.controls=e}if(!t.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var R,M,I,O=this,D="string"==typeof o?e.dom.find(o):o,x=n.createElement("iframe"),C={src:u,networkState:O.NETWORK_EMPTY,readyState:O.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:100,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|D.width?D.width:O._util.MIN_WIDTH,height:0|D.height?D.height:O._util.MIN_HEIGHT,error:null},L=!1,H=!0,V=[],U=0;O._eventNamespace=e.guid("HTMLSoundCloudAudioElement::"),O.parentNode=D,O._util.type="SoundCloud",O.play=function(){return C.paused=!1,L?(C.ended&&f(0),void R.play()):void s(function(){O.play()})},O.pause=function(){return C.paused=!0,L?void R.pause():void s(function(){O.pause()})},Object.defineProperties(O,{src:{get:function(){return C.src},set:function(e){e&&e!==C.src&&w(e)}},autoplay:{get:function(){return C.autoplay},set:function(e){C.autoplay=O._util.isAttributeSet(e)}},loop:{get:function(){return C.loop},set:function(e){C.loop=O._util.isAttributeSet(e)}},width:{get:function(){return x.width},set:function(e){x.width=e,C.width=x.width}},height:{get:function(){return x.height},set:function(e){x.height=e,C.height=x.height}},currentTime:{get:function(){return C.currentTime},set:function(e){f(e)}},duration:{get:function(){return C.duration}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){var e=k();return e/100},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";e=100*e,S(e)}},muted:{get:function(){return N()},set:function(e){A(O._util.isAttributeSet(e))}},error:{get:function(){return C.error}},controls:{get:function(){return C.controls},set:function(e){P(!!e)}}})}var a=16,u="",s=!1,d=!1,c=[];o.prototype=new e._MediaElementProto,o.prototype._canPlaySrc=function(e){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(e)?"probably":u},o.prototype.canPlayType=function(e){return"audio/x-soundcloud"===e?"probably":u},e.HTMLSoundCloudAudioElement=function(e){return new o(e)},e.HTMLSoundCloudAudioElement._canPlaySrc=o.prototype._canPlaySrc}(Popcorn,window,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(e){function n(t,n){var r=JSON.stringify({method:t,value:n});e.contentWindow&&e.contentWindow.postMessage(r,i)}var r=this,i=e.src.split("?")[0];"//"===i.substr(0,2)&&(i=t.location.protocol+i);var o="play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ");o.forEach(function(e){r[e]=function(t){n(e,t)}})}function i(i){function s(e){V.unshift(e)}function d(){R.addEventListener("loadProgress"),R.addEventListener("playProgress"),R.addEventListener("play"),R.addEventListener("pause"),R.addEventListener("finish"),R.addEventListener("seek"),R.getDuration(),C.networkState=O.NETWORK_LOADING,O.dispatchEvent("loadstart"),O.dispatchEvent("progress")}function c(e){var t=C.duration;if(t!==e&&(C.duration=e,O.dispatchEvent("durationchange"),isNaN(t))){C.networkState=O.NETWORK_IDLE,C.readyState=O.HAVE_METADATA,O.dispatchEvent("loadedmetadata"),O.dispatchEvent("loadeddata"),C.readyState=O.HAVE_FUTURE_DATA,O.dispatchEvent("canplay"),C.readyState=O.HAVE_ENOUGH_DATA,O.dispatchEvent("canplaythrough"),C.autoplay&&O.play();for(var n=V.length;n--;)V[n](),delete V[n]}}function l(){L&&R&&(clearInterval(I),R.pause(),t.removeEventListener("message",T,!1),D.removeChild(x),x=n.createElement("iframe"))}function p(e){return L?(f(),void R.seekTo(e)):void s(function(){p(e)})}function f(){C.seeking=!0,O.dispatchEvent("seeking")}function h(){C.seeking=!1,O.dispatchEvent("timeupdate"),O.dispatchEvent("seeked"),O.dispatchEvent("canplay"),O.dispatchEvent("canplaythrough")}function v(){C.paused=!0,clearInterval(M),O.dispatchEvent("pause")}function y(){O.dispatchEvent("timeupdate")}function m(){C.ended&&p(0),I||(I=setInterval(b,o),C.loop&&O.dispatchEvent("play")),M=setInterval(y,O._util.TIMEUPDATE_MS),C.paused&&(C.paused=!1,C.loop||O.dispatchEvent("play"),O.dispatchEvent("playing"))}function E(){C.loop?(p(0),O.play()):(C.ended=!0,O.dispatchEvent("ended"))}function g(e){var t=C.currentTime=e;t!==U&&O.dispatchEvent("timeupdate"),U=C.currentTime}function _(e){if(e.origin===u){var n;try{n=JSON.parse(e.data)}catch(i){console.warn(i)}if(n.player_id==H)switch(n.event){case"ready":R=new r(x),R.addEventListener("loadProgress"),R.addEventListener("pause"),R.setVolume(0),R.play();break;case"loadProgress":var o=parseFloat(n.data.duration);o>0&&!L&&(L=!0,R.pause());break;case"pause":R.setVolume(1),t.removeEventListener("message",_,!1),t.addEventListener("message",T,!1),d()}}}function T(e){if(e.origin===u){var t;try{t=JSON.parse(e.data)}catch(n){console.warn(n)}if(t.player_id==H){switch(t.method){case"getCurrentTime":g(parseFloat(t.value));break;case"getDuration":c(parseFloat(t.value));break;case"getVolume":S(parseFloat(t.value))}switch(t.event){case"loadProgress":O.dispatchEvent("progress"),c(parseFloat(t.data.duration));break;case"playProgress":g(parseFloat(t.data.seconds));break;case"play":m();break;case"pause":v();break;case"finish":E();break;case"seek":g(parseFloat(t.data.seconds)),h(),C.paused&&O.pause()}}}}function b(){R.getCurrentTime()}function w(e){if(!O._canPlaySrc(e))return C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void O.dispatchEvent("error");C.src=e,L&&l(),L=!1;var n,r=O._util.parseUri(e),i=r.queryKey,o=["api=1","player_id="+H,"title=0","byline=0","portrait=0"];C.loop="1"===i.loop||C.loop,delete i.loop,C.autoplay="1"===i.autoplay||C.autoplay,delete i.autoplay,r=u+"/video/"+/\d+$/.exec(r.path)+"?";for(n in i)i.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(i[n]));r+=o.join("&"),x.id=H,x.style.width="100%",x.style.height="100%",x.frameBorder=0,x.webkitAllowFullScreen=!0,x.mozAllowFullScreen=!0,x.allowFullScreen=!0,D.appendChild(x),x.src=r,t.addEventListener("message",_,!1)}function S(e){C.volume!==e&&(C.volume=e,O.dispatchEvent("volumechange"))}function k(e){return C.volume=e,L?(R.setVolume(e),void O.dispatchEvent("volumechange")):void s(function(){k(e)})}function A(){return C.muted>0?C.muted:C.volume}function N(e){return L?void(e?(C.muted=C.volume,k(0)):(C.muted=0,k(C.muted))):(C.muted=e?1:0,void s(function(){N(e)}))}function P(){return C.muted>0}if(!t.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var R,M,I,O=this,D="string"==typeof i?e.dom.find(i):i,x=n.createElement("iframe"),C={src:a,networkState:O.NETWORK_EMPTY,readyState:O.HAVE_NOTHING,seeking:!1,autoplay:a,preload:a,controls:!1,loop:!1,poster:a,volume:1,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},L=!1,H=e.guid(),V=[],U=0;O._eventNamespace=e.guid("HTMLVimeoVideoElement::"),O.parentNode=D,O._util.type="Vimeo",O.play=function(){return L?void R.play():void s(function(){O.play()})},O.pause=function(){return L?void R.pause():void s(function(){O.pause()})},Object.defineProperties(O,{src:{get:function(){return C.src},set:function(e){e&&e!==C.src&&w(e)}},autoplay:{get:function(){return C.autoplay},set:function(e){C.autoplay=O._util.isAttributeSet(e)}},loop:{get:function(){return C.loop},set:function(e){C.loop=O._util.isAttributeSet(e)}},width:{get:function(){return O.parentNode.offsetWidth}},height:{get:function(){return O.parentNode.offsetHeight}},currentTime:{get:function(){return C.currentTime},set:function(e){p(e)}},duration:{get:function(){return C.duration}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){return A()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";k(e)}},muted:{get:function(){return P()},set:function(e){N(O._util.isAttributeSet(e))}},error:{get:function(){return C.error}}})}var o=16,a="",u=t.location.protocol+"//player.vimeo.com";i.prototype=new e._MediaElementProto,i.prototype.constructor=i,i.prototype._canPlaySrc=function(e){return/player.vimeo.com\/video\/\d+/.test(e)||/vimeo.com\/\d+/.test(e)?"probably":a},i.prototype.canPlayType=function(e){return"video/x-vimeo"===e?"probably":a},e.HTMLVimeoVideoElement=function(e){return new i(e)},e.HTMLVimeoVideoElement._canPlaySrc=i.prototype._canPlaySrc}(Popcorn,window,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};MediaError=MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},addEventListener:function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},removeEventListener:function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},dispatchEvent:function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},load:e.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:e.nop},controls:{get:function(){return!0},set:e.nop},poster:{get:function(){return""},set:e.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(){if(!l){var e=n.createElement("script"),r="file:"===t.location.protocol?"http:":"";e.src=r+"//www.youtube.com/iframe_api";var i=n.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),l=!0}return c}function i(e){p.unshift(e)}function o(o){function c(e){Y.unshift(e)}function l(){var e=function(){O.isMuted()?O.playVideo():setTimeout(e,0)};W=!0,O.mute(),e()}function p(e){var t={name:"MediaError"};switch(e.data){case 2:t.message="Invalid video parameter.",t.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:t.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",t.code=MediaError.MEDIA_ERR_DECODE;case 100:t.message="Video not found.",t.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:t.message="Video not usable.",t.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:t.message="Unknown error.",t.code=5}U.error=t,L.dispatchEvent("error")}function f(){for(c(function(){D=setInterval(E,50)}),U.autoplay||!U.paused?(U.paused=!1,c(function(){S()})):(q=!1,O.pauseVideo()),U.muted||O.unMute(),U.readyState=L.HAVE_METADATA,L.dispatchEvent("loadedmetadata"),x=setInterval(m,a),L.dispatchEvent("loadeddata"),U.readyState=L.HAVE_FUTURE_DATA,L.dispatchEvent("canplay"),F=!0;Y.length;)Y[0](),Y.shift();U.readyState=L.HAVE_ENOUGH_DATA,L.dispatchEvent("canplaythrough")}function h(e){switch(e.data){case YT.PlayerState.ENDED:N();break;case YT.PlayerState.PLAYING:$?j?(j=!1,O.pauseVideo()):S():($=!0,G&&f());break;case YT.PlayerState.PAUSED:if(O.getDuration()===O.getCurrentTime())break;if(q){q=!1;break}A();break;case YT.PlayerState.BUFFERING:U.networkState=L.NETWORK_LOADING,L.dispatchEvent("waiting");break;case YT.PlayerState.CUED:}e.data!==YT.PlayerState.BUFFERING&&z===YT.PlayerState.BUFFERING&&k(),z=e.data}function v(){W&&O&&(G=!1,$=!1,clearInterval(x),clearInterval(D),O.stopVideo(),O.clearVideo(),H.removeChild(V),V=n.createElement("div"))}function y(n){if(!L._canPlaySrc(n))return U.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void L.dispatchEvent("error");if(U.src=n,!r())return void i(function(){y(n)});W&&v(),H.appendChild(V);var o=L._util.parseUri(n).queryKey;delete o.v,U.autoplay="1"===o.autoplay||U.autoplay,delete o.autoplay,U.loop="1"===o.loop||U.loop,delete o.loop,o.rel=o.rel||0,o.modestbranding=o.modestbranding||1,o.iv_load_policy=o.iv_load_policy||3,o.showinfo=o.showinfo||0;var a="file:"===t.location.protocol?"*":t.location.protocol+"//"+t.location.host;o.origin=o.origin||a,o.controls=o.controls||U.controls?2:0,U.controls=o.controls,o.wmode=o.wmode||"opaque",n=s.exec(n)[1];var u="https://gdata.youtube.com/feeds/api/videos/"+n+"?v=2&alt=jsonc&callback=?";e.getJSONP(u,function(e){var t="failed to retreive duration data, reason: ";return e.error?void console.warn(t+e.error.message):e.data?(U.duration=e.data.duration,L.dispatchEvent("durationchange"),G=!0,void($&&f())):void console.warn(t+"no response data")}),O=new YT.Player(V,{width:"100%",height:"100%",wmode:o.wmode,videoId:n,playerVars:o,events:{onReady:l,onError:p,onStateChange:h}}),U.networkState=L.NETWORK_LOADING,L.dispatchEvent("loadstart"),L.dispatchEvent("progress")}function m(){var e=O.getCurrentTime();U.seeking?d(e-U.currentTime)<1&&w():(d(U.currentTime-e)>a&&(b(),w()),U.currentTime=e)}function E(){var e=O.getVideoLoadedFraction();e&&J!==e&&(J=e,k())}function g(){return U.currentTime}function _(e){return U.currentTime=e,F?(b(),void O.seekTo(e)):void c(function(){b(),O.seekTo(e)})}function T(){L.dispatchEvent("timeupdate")}function b(){q=!0,U.seeking=!0,L.dispatchEvent("seeking")}function w(){U.ended=!1,U.seeking=!1,L.dispatchEvent("timeupdate"),L.dispatchEvent("seeked"),L.dispatchEvent("canplay"),L.dispatchEvent("canplaythrough")}function S(){U.ended&&(_(0),U.ended=!1),C=setInterval(T,L._util.TIMEUPDATE_MS),U.paused=!1,B&&(B=!1,(U.loop&&!K||!U.loop)&&(K=!0,L.dispatchEvent("play")),L.dispatchEvent("playing"))}function k(){L.dispatchEvent("progress")}function A(){U.paused=!0,B||(B=!0,clearInterval(C),L.dispatchEvent("pause"))}function N(){U.loop?(_(0),L.play()):(U.ended=!0,A(),j=!0,L.dispatchEvent("timeupdate"),L.dispatchEvent("ended"))}function P(e){return U.volume=e,F?(O.setVolume(100*U.volume),void L.dispatchEvent("volumechange")):void c(function(){P(U.volume)})}function R(){return U.volume}function M(e){return U.muted=e,F?(O[e?"mute":"unMute"](),void L.dispatchEvent("volumechange")):void c(function(){M(U.muted)})}function I(){return U.muted}if(!t.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var O,D,x,C,L=this,H="string"==typeof o?n.querySelector(o):o,V=n.createElement("div"),U={src:u,networkState:L.NETWORK_EMPTY,readyState:L.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},W=!1,q=!1,j=!1,F=!1,G=!1,K=!1,B=!0,Y=[],z=-1,J=0,$=!1;L._eventNamespace=e.guid("HTMLYouTubeVideoElement::"),L.parentNode=H,L._util.type="YouTube",L.play=function(){return U.paused=!1,F?void O.playVideo():void c(function(){L.play()})},L.pause=function(){return U.paused=!0,F?(q=!1,void O.pauseVideo()):void c(function(){L.pause()})},Object.defineProperties(L,{src:{get:function(){return U.src},set:function(e){e&&e!==U.src&&y(e)}},autoplay:{get:function(){return U.autoplay},set:function(e){U.autoplay=L._util.isAttributeSet(e)}},loop:{get:function(){return U.loop},set:function(e){U.loop=L._util.isAttributeSet(e)}},width:{get:function(){return L.parentNode.offsetWidth}},height:{get:function(){return L.parentNode.offsetHeight}},currentTime:{get:function(){return g()},set:function(e){_(e)}},duration:{get:function(){return U.duration}},ended:{get:function(){return U.ended}},paused:{get:function(){return U.paused}},seeking:{get:function(){return U.seeking}},readyState:{get:function(){return U.readyState}},networkState:{get:function(){return U.networkState}},volume:{get:function(){var e=R();return e/100},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";P(e)}},muted:{get:function(){return I()},set:function(e){M(L._util.isAttributeSet(e))}},error:{get:function(){return U.error}},buffered:{get:function(){var e={start:function(e){if(0===e)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(e){if(0===e)return U.duration?U.duration*J:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(e,{length:{get:function(){return 1}}}),e}}})}var a=10,u="",s=/^.*(?:\/|v=)(.{11})/,d=Math.abs,c=!1,l=!1,p=[];t.YT&&(t.quarantineYT=t.YT,t.YT=null),t.onYouTubeIframeAPIReady=function(){c=!0;for(var e=p.length;e--;)p[e](),delete p[e]},o.prototype=new e._MediaElementProto,o.prototype.constructor=o,o.prototype._canPlaySrc=function(e){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(e)?"probably":u},o.prototype.canPlayType=function(e){return"video/x-youtube"===e?"probably":u},e.HTMLYouTubeVideoElement=function(e){return new o(e)},e.HTMLYouTubeVideoElement._canPlaySrc=o.prototype._canPlaySrc}(Popcorn,window,document);